<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Desafio 2 - ARRAYS JAVASCRIPT (RAMON VASQUEZ)</title>
    </head>
    <body style="font-family: 'Courier New', Courier, monospace;">
        <script>
            document.write('<p>..::ESTADISTICAS CENTRO MEDICO NUNOA::..</p>');
            var radiologia = new Array(5);
            var traumatologia = new Array(7);
            var dental = new Array(6);
            
            radiologia[0] = {hora: "11:00", especialista: "IGNACIO SCHULZ", paciente: "FRANCISCA ROJAS", rut: "9878782-1", prevision: "FONASA"};
            radiologia[1] = {hora: "11:30", especialista: "FEDERICO SUBERCASEAUX", paciente: "PAMELA ESTRADA", rut: "15345241-3", prevision: "ISAPRE"};
            radiologia[2] = {hora: "15:00", especialista: "FERNANDO WURTHZ", paciente: "ARMANDO LUNA", rut: "16445345-9", prevision: "ISAPRE"};
            radiologia[3] = {hora: "15:30", especialista: "ANA MARIA GODOY", paciente: "MANUEL GODOY", rut: "17666419-0", prevision: "FONASA"};
            radiologia[4] = {hora: "16:00", especialista: "PATRICIA SUAZO", paciente: "RAMON ULLOA", rut: "14989389-K", prevision: "FONASA"};

            traumatologia[0] = {hora: "08:00", especialista: "MARIA PAZ ALTUZARRA", paciente: "PAULA SANCHEZ", rut: "15554774-5", prevision: "FONASA"};
            traumatologia[1] = {hora: "10:00", especialista: "RAUL ARAYA", paciente: "ANGELICA NAVAS", rut: "15444147-9", prevision: "ISAPRE"};
            traumatologia[2] = {hora: "10:30", especialista: "MARIA ARRIAGADA", paciente: "ANA KLAPP", rut: "17879423-9", prevision: "ISAPRE"};
            traumatologia[3] = {hora: "11:00", especialista: "ALEJANDRO BADILLA", paciente: "FELIPE MARDONES", rut: "15474233-6", prevision: "ISAPRE"};
            traumatologia[4] = {hora: "11:30", especialista: "CECILIA BUDNIK", paciente: "DIEGO MARRE", rut: "16554741-K", prevision: "FONASA"};
            traumatologia[5] = {hora: "12:00", especialista: "ARTURO CAVAGNARO", paciente: "CECILIA MENDEZ", rut: "9747535-8", prevision: "ISAPRE"};
            traumatologia[6] = {hora: "12:30", especialista: "ANDRES KANACRI", paciente: "MARCIAL SUAZO", rut: "11254785-5", prevision: "ISAPRE"};

            dental[0] = {hora: "08:30", especialista: "ANDREA ZUÑIGA", paciente: "MARCELA RETAMAL", rut: "11123425-6", prevision: "ISAPRE"};
            dental[1] = {hora: "11:00", especialista: "MARIA PAZ ZAÑARTU", paciente: "ANGEL MUÑOZ", rut: "9878789-2", prevision: "ISAPRE"};
            dental[2] = {hora: "11:30", especialista: "SCARLETT WITTING", paciente: "MARIO KAST", rut: "7998789-5", prevision: "FONASA"};
            dental[3] = {hora: "13:00", especialista: "FRANCISCO VON TEUBER", paciente: "KARIN FERNANDEZ", rut: "18887662-K", prevision: "FONASA"};
            dental[4] = {hora: "13:30", especialista: "EDUARDO VIÑUELA", paciente: "HUGO SANCHEZ", rut: "17665461-4" , prevision: "FONASA"};
            dental[5] = {hora: "14:00", especialista: "RAQUEL VILLASECA", paciente: "ANA SEPULVEDA", rut: "14441281-0", prevision: "ISAPRE"};
            
            traumatologia.push({hora: "09:00", especialista: "RENE POBLETE", paciente: "ANA GELLONA",rut: "13123329-7", prevision: "ISAPRE"})
            traumatologia.push({hora: "09:30", especialista: "MARIA SOLAR", paciente: "RAMIRO ANDRADE",rut: "12221451-K", prevision: "FONASA"})
            traumatologia.push({hora: "10:00", especialista: "RAUL LOYOLA", paciente: "CARMEN ISLA",rut: "10112348-3", prevision: "ISAPRE"})
            traumatologia.push({hora: "10:30", especialista: "ANTONIO LARENAS", paciente: "PABLO LOAYZA",rut: "13453234-1", prevision: "ISAPRE"})
            traumatologia.push({hora: "12:00", especialista: "MATIAS ARAVENA", paciente: "SUSANA POBLETE",rut: "14345656-6", prevision: "FONASA"})

            radiologia.shift()
            radiologia.pop()

            var paso = new Array(dental.length)
            for(var x=0; x<paso.length; x++){
                paso[x] = [dental[x].hora, dental[x].especialista, dental[x].paciente,
                                dental[x].rut, dental[x].prevision]
            }

            document.write("..::LISTADO DE ESPECIALIDAD DENTAL::..")
            for(var x=0; x<paso.length; x++){
                document.write(`<p>${paso[x].join(" - ")}</p>`)
            }
                                    
            var a = new Array(traumatologia.length)
            var b = new Array(dental.length)
            var c = new Array(radiologia.length)

            for(var x=0; x<a.length; x++){
                a[x] = [traumatologia[x].paciente]
            }

            for(var x=0; x<b.length; x++){
                b[x] = [dental[x].paciente]
            }

            for(var x=0; x<c.length; x++){
                c[x] = [radiologia[x].paciente]
            }

            document.write("<br>..::LISTADO DE TODOS LOS PACIENTES::..")
            document.write(`<p>${a.concat(b,c).join("<br>")}</p>`)
             
            document.write("<br>..::CAMBIO DE PREVISION ESPECIALIDAD DENTAL::..")
            function prevDental(dato){
                if(dato === "FONASA"){
                    dato = "ISAPRE"
                }
                else if(dato === "ISAPRE"){
                    dato = "FONASA"
                }
                return dato
            }

            for(var x=0; x<dental.length; x++){
                document.write(`<p>rut: ${dental[x].rut}; paciente: ${dental[x].paciente}; prevision antigua: ${dental[x].prevision}; 
                    nueva prevision: ${prevDental(dental[x].prevision)}</p>`)
            }

            document.write("<br>..::CANTIDAD DE ATENCIONES POR ESPECIALIDAD::..")
            document.write(`<p>LA CANTIDAD DE ATENCIONES EN RADIOLOGIA ES: ${radiologia.length}</p>`);
            document.write(`<p>LA CANTIDAD DE ATENCIONES EN TRAUMATOLOGIA ES: ${traumatologia.length}</p>`);
            document.write(`<p>LA CANTIDAD DE ATENCIONES EN DENTAL: ${dental.length}</p>`);

            function mostrar(pacienteInicio, previsionInicio, pacienteUltimo, previsionUltimo){
                document.write(`<p>Primera Atencion: ${pacienteInicio} - ${previsionInicio} 
                    | Ultima Atencion: ${pacienteUltimo} - ${previsionUltimo}</p>`)
            }
            document.write("<br>..::PRIMERA Y ULTIMA ATENCION POR ESPECIALIDAD::..")
            document.write('<br><br>RADIOLOGIA')
            mostrar(radiologia[0].paciente, radiologia[0].prevision, radiologia[radiologia.length-1].paciente, 
            radiologia[radiologia.length-1].prevision)

            document.write('TRAUMATOLOGIA')
            mostrar(traumatologia[0].paciente, traumatologia[0].prevision, traumatologia[traumatologia.length-1].paciente, 
            traumatologia[traumatologia.length-1].prevision)

            document.write('DENTAL')
            mostrar(dental[0].paciente, dental[0].prevision, dental[dental.length-1].paciente, 
            dental[dental.length-1].prevision)
        </script>
    </body>
</html>